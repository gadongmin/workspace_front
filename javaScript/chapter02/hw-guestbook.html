<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <title>Insert title here</title>

    <style></style>

</head>

<body>
    <div id="dataArea">
        <table border="1" width="540px">
            <tr>
                <td>1</td>
                <td>이효리</td>
                <td>2022-10-10</td>
                <td><a href="">삭제</a></td>
            </tr>
            <tr>
                <td colspan="4">이효리 방문하고 갑니다.</td>
            </tr>
        </table>
        <br>

        <table border="1" width="540px">
            <tr>
                <td>2</td>
                <td>유재석</td>
                <td>2022-09-09</td>
                <td><a href="">삭제</a></td>
            </tr>
            <tr>
                <td colspan="4">유재석 방문하고 갑니다.</td>
            </tr>
        </table>
        <br>

        <table border="1" width="540px">
            <tr>
                <td>3</td>
                <td>정우성</td>
                <td>2022-08-08</td>
                <td><a href="">삭제</a></td>
            </tr>
            <tr>
                <td colspan="4">정우성 방문하고 갑니다.</td>
            </tr>
        </table>
        <br>

        <button id="btnGetDate" type="button">데이터수집</button>
    </div>

    <br>

    <!-- --------------------------------------------------------- -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            console.log('돔트리 완료');

            // 버튼호출
            let btn = document.querySelector('#btnGetDate');
            btn.addEventListener('click', function () {

                // 리스트
                let guestList = [];

                // 데이터 추출
                let tbodyTags = document.querySelectorAll('tbody');

                for (let i = 0; i < tbodyTags.length; i++) {
                    let no = tbodyTags[i].children[0].children[0].textContent;
                    let name = tbodyTags[i].children[0].children[1].textContent;
                    let date = tbodyTags[i].children[0].children[2].textContent;
                    let content = tbodyTags[i].children[1].children[0].textContent;

                    // 객체
                    let guestVO = {
                        no: no
                        , name: name
                        , date: date
                        , content: content
                    };
                    guestList.push(guestVO);
                }
                // 출력 - 개발용
                console.log(guestList);
            });
        });
    </script>
</body>

</html>