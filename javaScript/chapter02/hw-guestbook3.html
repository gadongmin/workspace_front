<!-- <!DOCTYPE html> -->
<html lang="ko">

<head>
	<meta charset="UTF-8">
	<title>Insert title here</title>

	<style> </style>
</head>

<body>
	<div>
		<form id="guestbookForm" action="/guestbook/add" method="get">
			<table border="1" width="540px">
				<tr>
					<td>이름</td>
					<td><input type="text" name="name"></td>
					<td>비밀번호</td>
					<td><input type="password" name="pw"></td>
				</tr>
				<tr>
					<td colspan="4"><textarea cols="72" rows="5" name="content"></textarea></td>
				</tr>
				<tr>
					<td colspan="4"><button id="btnWrite" type="submit">등록</button></td>
				</tr>
			</table>
		</form>
	</div>
	<br>

	<!-- ---------------------------------------------------------- -->
	<script>
		document.addEventListener('DOMContentLoaded', function () {
			console.log('돔트리 완료');

			// 등록버튼은 form에 submit으로 적용해야한다.
			let guestbookForm = document.querySelector('#guestbookForm');
			guestbookForm.addEventListener('submit', function (event) {
				console.log('버튼');

				let nameTag = document.querySelector('input[name="name"]');
				let pwTag = document.querySelector('input[name="pw"]');
				let conTag = document.querySelector('textarea[name="content"]');

				let name = nameTag.value.trim();
				console.log(name);
				if (name == '') {
					event.preventDefault();
					window.alert('이름을 입력하세요.');

					return false;
				}

				let pw = pwTag.value.trim();
				console.log(pw);
				if (pw == '') {
					event.preventDefault();
					window.alert('비밀번호를 입력하세요.');

					return false;
				}

				let content = conTag.value.trim();
				console.log(content);
				if (content == '') {
					event.preventDefault();
					window.alert('메세지를 입력하세요.');

					return false;
				}
				
				return true;
			});
		});
	</script>
</body>

</html>